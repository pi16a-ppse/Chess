
<!-- saved from url=(0170)file:///E:/%D0%A3%D1%87%D1%91%D0%B1%D0%B0/3%20%D0%BA%D1%83%D1%80%D1%81/2%20%D1%81%D0%B5%D0%BC%D0%B5%D1%81%D1%82%D1%80/%D0%9F%D0%9F%D0%9F%D0%98/Chess/out/html/DocBook.html -->
<html xmlns:ng="http://docbook.org/docbook-ng"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
      
   <title>&#1044;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; &#1082; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1091; Chess</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article"><div class="titlepage"><div><div><h1 class="title"><a name="d5e1"></a>&#1044;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1103; &#1082; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1091; Chess</h1></div><div><div class="author"><h3 class="author"><span class="firstname">&#1044;&#1080;&#1085;&#1100; &#1061;&#1080;&#1077;&#1081;</span> <span class="surname">&#1051;&#1077;</span></h3></div></div><div><p class="copyright">Copyright © 2019 &#1051;&#1077; &#1044;&#1080;&#1085;&#1100; &#1061;&#1080;&#1077;&#1081;</p></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="file:///E:/%D0%A3%D1%87%D1%91%D0%B1%D0%B0/3%20%D0%BA%D1%83%D1%80%D1%81/2%20%D1%81%D0%B5%D0%BC%D0%B5%D1%81%D1%82%D1%80/%D0%9F%D0%9F%D0%9F%D0%98/Chess/out/html/DocBook.html#d5e11">&#1054;&#1087;&#1080;&#1089;&#1072;&#1085;&#1080;&#1077; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072;</a></span></dt><dd><dl><dt><span class="section"><a href="file:///E:/%D0%A3%D1%87%D1%91%D0%B1%D0%B0/3%20%D0%BA%D1%83%D1%80%D1%81/2%20%D1%81%D0%B5%D0%BC%D0%B5%D1%81%D1%82%D1%80/%D0%9F%D0%9F%D0%9F%D0%98/Chess/out/html/DocBook.html#d5e15">&#1054;&#1089;&#1086;&#1073;&#1077;&#1085;&#1085;&#1086;&#1089;&#1090;&#1080; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072;</a></span></dt><dt><span class="section"><a href="file:///E:/%D0%A3%D1%87%D1%91%D0%B1%D0%B0/3%20%D0%BA%D1%83%D1%80%D1%81/2%20%D1%81%D0%B5%D0%BC%D0%B5%D1%81%D1%82%D1%80/%D0%9F%D0%9F%D0%9F%D0%98/Chess/out/html/DocBook.html#d5e19">&#1044;&#1077;&#1090;&#1072;&#1083;&#1080; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1072;&#1094;&#1080;&#1080;</a></span></dt><dt><span class="section"><a href="file:///E:/%D0%A3%D1%87%D1%91%D0%B1%D0%B0/3%20%D0%BA%D1%83%D1%80%D1%81/2%20%D1%81%D0%B5%D0%BC%D0%B5%D1%81%D1%82%D1%80/%D0%9F%D0%9F%D0%9F%D0%98/Chess/out/html/DocBook.html#d5e22">&#1054;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1089;&#1086;&#1089;&#1090;&#1086;&#1103;&#1085;&#1080;&#1103; &#1096;&#1072;&#1093;&#1084;&#1072;&#1090;&#1085;&#1086;&#1081; &#1076;&#1086;&#1089;&#1082;&#1080;</a></span></dt><dt><span class="section"><a href="file:///E:/%D0%A3%D1%87%D1%91%D0%B1%D0%B0/3%20%D0%BA%D1%83%D1%80%D1%81/2%20%D1%81%D0%B5%D0%BC%D0%B5%D1%81%D1%82%D1%80/%D0%9F%D0%9F%D0%9F%D0%98/Chess/out/html/DocBook.html#d5e27">&#1054;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1077; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1080; &#1086; &#1080;&#1075;&#1088;&#1077;</a></span></dt><dt><span class="section"><a href="file:///E:/%D0%A3%D1%87%D1%91%D0%B1%D0%B0/3%20%D0%BA%D1%83%D1%80%D1%81/2%20%D1%81%D0%B5%D0%BC%D0%B5%D1%81%D1%82%D1%80/%D0%9F%D0%9F%D0%9F%D0%98/Chess/out/html/DocBook.html#d5e32">&#1055;&#1088;&#1077;&#1074;&#1088;&#1072;&#1097;&#1077;&#1085;&#1080;&#1077; &#1087;&#1077;&#1096;&#1082;&#1080;</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e11"></a>&#1054;&#1087;&#1080;&#1089;&#1072;&#1085;&#1080;&#1077; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072;</h2></div></div></div><p>&#1044;&#1072;&#1085;&#1085;&#1099;&#1081; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090; &#1103;&#1074;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; &#1091;&#1087;&#1088;&#1086;&#1097;&#1105;&#1085;&#1085;&#1086;&#1081; &#1074;&#1077;&#1088;&#1089;&#1080;&#1077;&#1081; &#1080;&#1075;&#1088;&#1099; &#1074; &#1096;&#1072;&#1093;&#1084;&#1072;&#1090;&#1099;, &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1086;&#1074;&#1072;&#1085;&#1085;&#1086;&#1081; &#1087;&#1086;&#1076; &#1073;&#1088;&#1072;&#1091;&#1079;&#1077;&#1088;&#1099;</p><p>&#1044;&#1083;&#1103; &#1086;&#1090;&#1082;&#1088;&#1099;&#1090;&#1080;&#1103; &#1080;&#1075;&#1088;&#1099; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1089;&#1082;&#1072;&#1095;&#1072;&#1090;&#1100; &#1087;&#1086; &#1089;&#1089;&#1099;&#1083;&#1082;&#1077;: https://github.com/pi16a-ppse/Chess</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e15"></a>&#1054;&#1089;&#1086;&#1073;&#1077;&#1085;&#1085;&#1086;&#1089;&#1090;&#1080; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072;</h3></div></div></div><p>&#1059;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1080;&#1090; &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1084;&#1099;&#1096;&#1082;&#1080;</p><p>&#1055;&#1088;&#1080;&#1089;&#1091;&#1090;&#1089;&#1090;&#1074;&#1091;&#1077;&#1090; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1100; &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1080; &#1080;&#1075;&#1088;&#1099; &#1087;&#1086; &#1085;&#1072;&#1078;&#1072;&#1090;&#1080;&#1102; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1091;&#1102;&#1097;&#1077;&#1081; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080;</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e19"></a>&#1044;&#1077;&#1090;&#1072;&#1083;&#1080; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1072;&#1094;&#1080;&#1080;</h3></div></div></div><p>&#1054;&#1089;&#1086;&#1073;&#1077;&#1085;&#1085;&#1086;&#1089;&#1090;&#1080; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1072;&#1094;&#1080;&#1080; &#1086;&#1090;&#1076;&#1077;&#1083;&#1100;&#1085;&#1086;&#1075;&#1086; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1086;&#1085;&#1072;&#1083;&#1072; &#1087;&#1088;&#1077;&#1076;&#1089;&#1090;&#1072;&#1074;&#1083;&#1077;&#1085;&#1099; &#1085;&#1080;&#1078;&#1077;:</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e22"></a>&#1054;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1089;&#1086;&#1089;&#1090;&#1086;&#1103;&#1085;&#1080;&#1103; &#1096;&#1072;&#1093;&#1084;&#1072;&#1090;&#1085;&#1086;&#1081; &#1076;&#1086;&#1089;&#1082;&#1080;</h3></div></div></div><p>&#1054;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1076;&#1086;&#1089;&#1082;&#1080; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1080;&#1090; &#1087;&#1086;&#1089;&#1083;&#1077; &#1082;&#1072;&#1078;&#1076;&#1086;&#1075;&#1086; &#1093;&#1086;&#1076;&#1072; &#1080;&#1075;&#1088;&#1086;&#1082;&#1072; &#1080;&#1083;&#1080; &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1072; &#1080;&#1075;&#1088;&#1099;</p><div class="example"><a name="d5e25"></a><p class="title"><b>Example&nbsp;1.&nbsp;</b></p><div class="example-contents"><pre class="programlisting">                    
        function update() {
         let topPanel = createAlphaPanel();
         let bottomPanel = createAlphaPanel();
         let leftPanel = createNumericPanel();
         let rightPanel = createNumericPanel();
         let mid = document.createElement('div');
         let board = document.getElementById('board');
         let gameField = document.createElement('table');
         let html = '';
        
         board.innerHTML = '';
         gameField.className = 'game-field';
        
         for (let y = 7; y &gt;= 0; y--) {
             html += '&lt;tr&gt;';
        
             for (let x = 0; x &lt; 8; x++) {
                 let color = undefined;
        
                 if (info[x][y] == ' ') {
                     color = (x + y) % 2 ? 'light-orange' : 'dark-orange';
                 } else {
                     color = info[x][y] == '1' ? 'light-green' : 'light-pink selected';
                 }
        
                 html += '&lt;td class="cell ' + color + 
                         '" onclick="clickCell(' + x + ', ' + y + ');"&gt;';
                 html += displayFigure(map[x][y], renderer) + '&lt;/td&gt;';
             }
        
             html += '&lt;/tr&gt;';
         }
        
         gameField.innerHTML = html;
         mid.appendChild(leftPanel);
         mid.appendChild(gameField);
         mid.appendChild(rightPanel);
         board.appendChild(topPanel);
         board.appendChild(mid);
         board.appendChild(bottomPanel);
         showInfo();
        }
                    
            </pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e27"></a>&#1054;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1077; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1080; &#1086; &#1080;&#1075;&#1088;&#1077;</h3></div></div></div><p>&#1055;&#1086;&#1089;&#1083;&#1077; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1103; &#1093;&#1086;&#1076;&#1072; &#1074; &#1073;&#1088;&#1072;&#1091;&#1079;&#1077;&#1088;&#1077; &#1085;&#1080;&#1078;&#1077; &#1076;&#1086;&#1089;&#1082;&#1080; &#1074;&#1099;&#1074;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1091;&#1102;&#1097;&#1077;&#1077; &#1089;&#1086;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077;</p><div class="example"><a name="d5e30"></a><p class="title"><b>Example&nbsp;2.&nbsp;</b></p><div class="example-contents"><pre class="programlisting">                    
        function showInfo() {
          let html = '&#1061;&#1086;&#1076;: ' + ((moveColor == 'white') ? '&#1041;&#1077;&#1083;&#1099;&#1081;' : '&#1063;&#1105;&#1088;&#1085;&#1099;&#1081;');
          html += '&lt;br&gt;';
          changeMove();
          
          if (isCheckMate()) {
              html += '&#1064;&#1072;&#1093; &#1080; &#1084;&#1072;&#1090; &amp;#9786;! ';
              html += '&#1055;&#1086;&#1073;&#1077;&#1076;&#1080;&#1090;&#1077;&#1083;&#1100;: ' + (moveColor == 'black' ? '&#1063;&#1105;&#1088;&#1085;&#1099;&#1081;! ' : '&#1041;&#1077;&#1083;&#1099;&#1081;! ');
              html += '&#1052;&#1086;&#1078;&#1085;&#1086; &#1074;&#1099;&#1087;&#1080;&#1090;&#1100; &amp;#9749;'
          } else if (isStaleMate()) {
              html += '&#1055;&#1072;&#1090;! &#1053;&#1080;&#1095;&#1100;&#1103;!';
          } else if (isCheck()) {
              html += '&#1064;&#1072;&#1093;!!!'
          }
          
          changeMove();
          document.getElementById('info').innerHTML = html;
        }
                    
                </pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e32"></a>&#1055;&#1088;&#1077;&#1074;&#1088;&#1072;&#1097;&#1077;&#1085;&#1080;&#1077; &#1087;&#1077;&#1096;&#1082;&#1080;</h3></div></div></div><p>&#1055;&#1088;&#1080; &#1076;&#1086;&#1089;&#1090;&#1080;&#1078;&#1077;&#1085;&#1080;&#1080; &#1082;&#1086;&#1085;&#1094;&#1072; &#1076;&#1086;&#1089;&#1082;&#1080; &#1087;&#1088;&#1086;&#1090;&#1080;&#1074;&#1085;&#1080;&#1082;&#1072; &#1087;&#1077;&#1096;&#1082;&#1072; &#1087;&#1088;&#1077;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1090;&#1089;&#1103; &#1074; &#1086;&#1076;&#1085;&#1091; &#1080;&#1079; &#1076;&#1086;&#1089;&#1090;&#1091;&#1087;&#1085;&#1099;&#1093; &#1092;&#1080;&#1075;&#1091;&#1088;</p><div class="example"><a name="d5e35"></a><p class="title"><b>Example&nbsp;3.&nbsp;</b></p><div class="example-contents"><pre class="programlisting">                    
        function promotePawn(fromFigure, to) {
            if (!isPawn(fromFigure)) {
                return;
            } else if (!(to.y == 7 || to.y == 0)) {
                return;
            } else {
                let figure = ' ';
                try {
                    do {
                        figure = prompt('&#1040;&#1087;&#1075;&#1088;&#1077;&#1081;&#1076;!!! &#1053;&#1086;&#1074;&#1072;&#1103; &#1092;&#1080;&#1075;&#1091;&#1088;&#1072;: Q B N R', 'Q');
                    } while (!(isQueen(figure) 
                            || isBishop(figure) 
                            || isKnight(figure) 
                            || isRook(figure)));    
                } catch (error) {
                    figure = 'Q';
                }
        
                if (moveColor == 'white') {
                    map[to.x][to.y] = figure.toUpperCase() 
                } else {
                    map[to.x][to.y] = figure.toLowerCase();
                }
            }
        }
                    
                </pre></div></div><br class="example-break"></div></div></div></body></html>